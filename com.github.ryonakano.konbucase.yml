app-id: com.github.ryonakano.konbucase
runtime: org.gnome.Platform
runtime-version: '44'
sdk: org.gnome.Sdk
command: com.github.ryonakano.konbucase
finish-args:
  - '--share=ipc'
  - '--socket=wayland'
  - '--socket=fallback-x11'
  - '--device=dri'
modules:
  - name: chcase
    buildsystem: meson
    sources:
      - type: archive
        url: https://github.com/ryonakano/chcase/archive/refs/tags/2.1.0.tar.gz
        sha256: c5dfa84ff64eda76296352734ea48f0a537f74bd58b8c5fd7a86a5ab26297efd

  - name: granite
    buildsystem: meson
    sources:
      - type: archive
        url: https://github.com/elementary/granite/archive/refs/tags/7.2.0.tar.gz
        sha256: 474b1ce3275e4065f48cc11b8bedaa6d976af0fb9b73c795300659d06ef3beef

  - name: konbucase
    buildsystem: meson
    config-opts:
      - -Dnative_build=false
    sources:
      - type: archive
        url: https://github.com/ryonakano/konbucase/archive/refs/tags/4.1.0-beta.2.tar.gz
        sha256: 9a8fc19c1b4d3d2b2efdc97911b0a6c4a49e2e8c52d80cb82b7093e753512ff2
      - type: patch
        path: 0001-Metainfo-Use-screenshots-taken-on-GNOME.patch
